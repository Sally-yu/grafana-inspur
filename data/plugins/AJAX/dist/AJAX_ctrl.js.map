{"version":3,"sources":["../src/AJAX_ctrl.js"],"names":["MetricsPanelCtrl","_","IframeRender","panelDefaults","backgroundColor","itemNormalColor","itemBorderColor","itemEmphasisColor","labelColor","labelEmphasisColor","dataColors","thresholds","thresholdTextColor","unit","AJAXCtrl","$scope","$injector","$sce","defaults","panel","events","on","onDataReceived","bind","onInitEditMode","dataList","console","log","updateIframe","addEditorTab","pluginId","render","scope","elem","attrs","ctrl","sce","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,sB,kBAAAA,gB;;AACFC,O;;AACAC,kB;;;;;;;;;;;;;;;;;;;;;AAEDC,mB,GAAgB;AACpBC,yBAAiB,SADG;AAEpBC,yBAAiB,SAFG;AAGpBC,yBAAiB,SAHG;AAIpBC,2BAAmB,SAJC;AAKpBC,oBAAY,SALQ;AAMpBC,4BAAoB,SANA;AAOpBC,oBAAY,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAPQ;AAQpBC,oBAAY,MARQ;AASpBC,4BAAoB,SATA;AAUpBC,cAAM;AAVc,O;;0BAcTC,Q;;;AAEX,0BAAYC,MAAZ,EAAoBC,SAApB,EAA8BC,IAA9B,EAAoC;AAAA;;AAAA,0HAE5BF,MAF4B,EAEpBC,SAFoB,EAETC,IAFS;;AAGlChB,YAAEiB,QAAF,CAAW,MAAKC,KAAhB,EAAuBhB,aAAvB;AACA,gBAAKiB,MAAL,CAAYC,EAAZ,CAAe,eAAf,EAAgC,MAAKC,cAAL,CAAoBC,IAApB,OAAhC;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,gBAAf,EAAiC,MAAKG,cAAL,CAAoBD,IAApB,OAAjC;AALkC;AAMnC;;;;yCAEcE,Q,EAAU;AACvBC,oBAAQC,GAAR,CAAY,WAAZ;AACA,iBAAKC,YAAL;AACD;;;2CAEgB;AACfF,oBAAQC,GAAR,CAAY,YAAZ;AACA,iBAAKE,YAAL,CAAkB,SAAlB,EAA6B,oBAAkB,KAAKC,QAAvB,GAAgC,cAA7D,EAA6E,CAA7E,EAFe,CAEmE;AACnF;;;yCAEa;AACZJ,oBAAQC,GAAR,CAAY,cAAZ;;AAEA,iBAAKI,MAAL;AACD;;;+BAGIC,K,EAAOC,I,EAAMC,K,EAAOC,I,EAAKC,G,EAAK;AACjCV,oBAAQC,GAAR,CAAY,MAAZ;AACAzB,yBAAa8B,KAAb,EAAoBC,IAApB,EAA0BC,KAA1B,EAAiCC,IAAjC;AACD;;;;QA9B2BnC,gB;;;;AAgC9Bc,eAASuB,WAAT,GAAuB,aAAvB","file":"AJAX_ctrl.js","sourcesContent":["import { MetricsPanelCtrl } from 'app/plugins/sdk';\nimport _ from 'lodash';\nimport IframeRender from './render';\n\nconst panelDefaults = {\n  backgroundColor: '#63696e',\n  itemNormalColor: '#2d3339',\n  itemBorderColor: '#404a59',\n  itemEmphasisColor: '#2a333d',\n  labelColor: '#f5f5f5',\n  labelEmphasisColor: '#f5896b',\n  dataColors: ['#83fa52', '#f6630e', '#f60e48'],\n  thresholds: '0,10',\n  thresholdTextColor: '#f5f5f5',\n  unit: 'ms'\n};\n\n\nexport class AJAXCtrl extends MetricsPanelCtrl {\n\n  constructor($scope, $injector,$sce) {\n    \n    super($scope, $injector ,$sce);\n    _.defaults(this.panel, panelDefaults);\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n  }\n\n  onDataReceived(dataList) {\n    console.log('onDataRec');\n    this.updateIframe();\n  }\n\n  onInitEditMode() {\n    console.log('onInitEdit');\n    this.addEditorTab('Options', 'public/plugins/'+this.pluginId+'/editor.html', 2);  //使用plugins.json中的ID找html\n  }\n\n  updateIframe(){\n    console.log('UpdateIframe');  \n\n    this.render();\n  }\n\n\n  link(scope, elem, attrs, ctrl,sce) {\n    console.log('Link');\n    IframeRender(scope, elem, attrs, ctrl);\n  }\n}\nAJAXCtrl.templateUrl = 'module.html';"]}